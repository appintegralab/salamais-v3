import{_ as $,k as n,c as d,f as s,N as l,m as O,b as U,s as J,r as h,a as p,R as g,P as M,j as w,h as r,K as f,a2 as I,a0 as x,i as D,T as q,d as u,O as b,F as C,g as S,L as z,l as Y,V as A,a1 as E,M as V,Z as N,u as Z,q as G,e as W,o as X}from"./index.2bd1149f.js";import{Q}from"./QTable.6c172721.js";import{Q as P}from"./QImg.297fc3cd.js";import"./QLinearProgress.69a859f2.js";const ss={props:{formacao:{default:null,type:Object}},data(){return{inscricoes:null,qtde:0}},mounted(){console.log("this.formacao",this.formacao),this.qtde=0;for(let o in this.formacao.encontros){let t=this.formacao.encontros[o];for(let i in t.salas)t.salas[i].inscricoes!=null&&(this.qtde=this.qtde+Object.keys(t.salas[i].inscricoes).length);for(let i in t.areas){let m=t.areas[i];for(let e in m.salas)m.salas[e].inscricoes!=null&&(this.qtde=this.qtde+Object.keys(m.salas[e].inscricoes).length)}}console.log("qtde",this.qtde)},methods:{}},es={class:"flex items-center"},ts=s("span",{class:"text-[8pt] rounded bg-slate-200 pl-1 pr-3 pt-[1px]"},"Inscri\xE7\xF5es",-1),os={class:"-ml-2 px-1 pt-[2px] rounded-lg bg-slate-300 text-black text-[8pt] fw-600"};function as(o,t,i,m,e,a){return n(),d("div",es,[ts,s("span",os,l(e.qtde),1)])}var is=$(ss,[["render",as]]);const ls={components:{qtdeinscricoes:is},data(){return{filter:"",columns:[{label:"Forma\xE7\xE3o",field:"nome",align:"left",sortable:!0}],rows:[],removeDialog:!1}},computed:{moment(){return O}},mounted(){this.load()},methods:{load(){let o=this;U(h(p,"/salamais/formacoes"),t=>{o.rows=J(t)})},excluir(o){let t=this;this.removeDialog=!1,console.log(o),g(h(p,"/salamais/formacoes/"+o.id),null),t.$q.notify(M.success("Forma\xE7\xE3o excluida com sucesso"))}}},ns={class:""},cs={class:"w-full"},rs={class:"p-1 flex items-center justify-between"},ds={class:"flex items-center"},ms={class:"-mb-2 w-[160px]"},fs=s("div",{class:"pl-1"},[s("span",{class:"iconify text-[14pt]","data-icon":"mi:search"})],-1),_s=["props"],hs={class:"p-1"},ps=["onClick"],us={class:"flex-1 truncate p-1 leading-3 mb-[2px] text-ellipsis"},xs={class:"w-[200px]"},vs={class:"text-[10pt] froboto fw-500"},gs={class:"flex items-center"},bs={class:"text-[10pt] pt-[2px] fw-500 rounded bg-slate-200 px-1"},ws={class:"text-center mt-[1px] text-[9pt] fw-400 mx-1 rounded"};function ys(o,t,i,m,e,a){const c=w("FormKit"),_=w("qtdeinscricoes");return n(),d("div",ns,[r(Q,{dense:"",pagination:{rowsPerPage:20},rows:e.rows,filter:e.filter,columns:e.columns,"row-key":"id","table-colspan":"1"},{top:f(()=>[s("div",cs,[s("div",rs,[s("div",ds,[s("div",ms,[r(c,{modelValue:e.filter,"onUpdate:modelValue":t[0]||(t[0]=v=>e.filter=v),classes:{inner:"h-7"},type:"text",placeholder:"Filtrar"},null,8,["modelValue"])]),fs])])])]),body:f(v=>[s("div",{props:v,class:"border"},[s("div",hs,[s("div",{onClick:k=>o.$emit("select",v.row),class:"p-1 border rounded hover:bg-gray-200 cursor-pointer"},[s("div",us,[s("div",xs,[s("span",vs,l(v.row.nome),1)])]),s("div",gs,[s("span",bs,l(a.moment(v.row.dataInicio).format("DD/MM/YYYY")),1),s("div",ws,l(a.moment(v.row.dataInicio).locale("pt-br").format("dddd")),1),s("div",null,[r(_,{formacao:v.row},null,8,["formacao"])])])],8,ps),r(I,{delay:800},{default:f(()=>[x(l(v.row.nome),1)]),_:2},1024)])],8,_s)]),_:1},8,["rows","filter","columns"])])}var $s=$(ls,[["render",ys]]);const ks={props:{userID:{default:"noid",type:String}},data(){return{user:null}},watch:{userID(){this.load()}},mounted(){this.load()},methods:{load(){let o=this;D(h(p,"/salamais/usuarios/"+this.userID)).then(t=>{let i=t.val();i&&(o.user=i)})}}},Is={key:0},Ds={class:"ml-[2px] text-[8pt]"};function Cs(o,t,i,m,e,a){const c=w("router-link");return e.user!=null?(n(),d("div",Is,[r(q,{size:"28px"},{default:f(()=>[r(P,{src:e.user.urlFoto},null,8,["src"])]),_:1}),r(c,{to:{path:"/profile/"+e.user.id},target:"_blank"},{default:f(()=>[s("span",Ds,l(e.user.nome.split(" ")[0]),1)]),_:1},8,["to"]),r(I,{delay:800,class:"text-[7pt]"},{default:f(()=>[x(l(e.user.nome),1)]),_:1})])):u("",!0)}var Ss=$(ks,[["render",Cs]]);const Ys={components:{facilitadoravatar:Ss},props:{formacao:{default:null,type:Object},sala:{default:null,type:Object},encontroIdx:{default:"0"},area:{default:null}},data(){return{menuShow:!1,facilitador:null,salaObj:null}},watch:{sala(){this.load()}},mounted(){this.load()},methods:{load(){let o=this;this.area!=null?U(h(p,"/salamais/formacoes/"+this.formacao.id+"/encontros/"+this.encontroIdx+"/areas/"+this.area.id+"/salas/"+this.sala.id),t=>{console.log(t.val()),o.salaObj=t.val(),o.salaObj.inscricoes==null&&(o.salaObj.inscricoes={}),o.loadFacilitador()}):U(h(p,"/salamais/formacoes/"+this.formacao.id+"/encontros/"+this.encontroIdx+"/salas/"+this.sala.id),t=>{console.log(t.val()),o.salaObj=t.val(),o.salaObj.inscricoes==null&&(o.salaObj.inscricoes={}),o.loadFacilitador()})},loadFacilitador(){if(this.salaObj.facilitadores==null){this.facilitador=null;return}},acessarSala(){let o="";this.area&&(o=this.area.id);let t=this.sala.id+":"+this.formacao.id+":"+this.encontroIdx+":"+o;this.$router.push({path:"/sala/"+t})}}},Os={class:""},js={key:0,class:"flex items-center"},Vs={class:"pt-1 pb-1 px-1 border shadow rounded mr-1"},Ms={class:"flex items-center leading-3"},Fs={class:"px-1 text-[9pt] pt-[2px] rounded bg-slate-200 uppercase"},Us={class:"flex items-center justify-between ml-1 pl-1 rounded-2xl border w-18"},qs={class:"flex-1 pl-[3px] leading-3 h-6 mt-1"},Ps={key:0,class:"text-[9pt] fw-600 py-0 text-center"},Ts={key:1,class:"text-[9pt] fw-600 py-0 text-center"},zs=s("div",{class:"fw-300 flato text-[7pt] py-0 -mt-[3px]"}," inscri\xE7\xF5es ",-1),As={class:"ml-1"},Es=s("span",{class:"iconify text-[13pt]","data-icon":"ion:people-outline"},null,-1),Ns=x(" Visualizar inscritos "),Qs={class:"ml-2 leading-3 truncate flex-1 py-1"},Ks={class:"leading-3 mb-1"},Js=s("div",{class:"text-[8pt] fw-300 ml-2 -mb-2 mx-2 bg-white"},"Facilitadores:",-1),Ls={class:"flex items-center p-2 pt-3 border rounded"},Hs={key:0,class:"text-[7pt] text-red-800 ml-1 fw-500"},Bs={class:"text-right pr-1 w-[30px]"},Rs=s("span",{class:"iconify text-[12pt]","data-icon":"mdi:dots-horizontal"},null,-1),Zs=x(" A\xE7\xF5es para a sala "),Gs={class:"p-1"},Ws={class:"my-[2px] cursor-pointer hover:bg-gray-200"},Xs=s("div",null,[s("span",{class:"iconify text-[14pt]","data-icon":"mdi:account-edit"})],-1),se=s("div",{class:"ml-2"},[s("span",{class:"text-[9pt]"},"Editar Facilitador/Link")],-1),ee=[Xs,se],te={class:"my-[2px] cursor-pointer hover:bg-gray-200"},oe=s("div",null,[s("span",{class:"iconify text-[14pt]","data-icon":"icomoon-free:page-break"})],-1),ae=s("div",{class:"ml-2"},[s("span",{class:"text-[9pt]"},"Quebrar salas")],-1),ie=[oe,ae],le={class:"my-[2px] cursor-pointer hover:bg-gray-200"},ne=s("div",null,[s("span",{class:"iconify text-[14pt]","data-icon":"ion:people-outline"})],-1),ce=s("div",{class:"ml-2"},[s("span",{class:"text-[9pt]"},"Ver inscritos")],-1),re=[ne,ce],de={class:"leading-3 truncate mt-1 mb-1 flex items-center"},me=s("span",{class:"text-[7px]"},"acessar sala",-1),fe=s("span",{class:"text-[8pt] fw-300"},"Link Sala:",-1),_e={class:"ml-2 rounded bg-slate-200"},he=s("span",{class:"iconify text-[7pt] text-slate-800","data-icon":"ion:link"},null,-1),pe=x(" Copiar link "),ue={key:0,class:"text-[7pt] text-red-800 pr-1 ml-1 fw-400 fmohave"},xe={key:1,class:"text-[7pt] pr-1 ml-1 fw-400 froboto"};function ve(o,t,i,m,e,a){const c=w("facilitadoravatar");return n(),d("div",Os,[e.salaObj!=null?(n(),d("div",js,[s("div",Vs,[s("div",Ms,[s("span",Fs,l(e.salaObj.id),1),s("div",Us,[s("div",qs,[e.salaObj.inscricoes==null?(n(),d("div",Ps," 0 ")):u("",!0),e.salaObj.inscricoes!=null?(n(),d("div",Ts,l(Object.keys(e.salaObj.inscricoes).length),1)):u("",!0),zs]),s("div",As,[r(b,{onClick:t[0]||(t[0]=_=>o.$emit("showInscritos",{sala:e.salaObj,encontroIdx:i.encontroIdx,area:i.area})),size:"7px",round:"",color:"blue-grey-8"},{default:f(()=>[Es,r(I,{delay:600},{default:f(()=>[Ns]),_:1})]),_:1})])])])]),s("div",Qs,[s("div",Ks,[Js,s("div",Ls,[(n(!0),d(C,null,S(e.salaObj.facilitadores,(_,v)=>(n(),d("div",{key:v},[r(c,{userID:_,class:"mr-3"},null,8,["userID"])]))),128)),e.salaObj.facilitadores==null?(n(),d("span",Hs," n\xE3o informado ")):u("",!0)])])]),s("div",Bs,[r(b,{size:"7px",round:"",class:""},{default:f(()=>[Rs,r(I,null,{default:f(()=>[Zs]),_:1}),r(z,{modelValue:e.menuShow,"onUpdate:modelValue":t[4]||(t[4]=_=>e.menuShow=_),anchor:"bottom left",self:"center right"},{default:f(()=>[s("div",Gs,[s("div",Ws,[s("div",{onClick:t[1]||(t[1]=_=>{e.menuShow=!1,o.$emit("showEditar",{sala:e.salaObj,encontroIdx:i.encontroIdx,area:i.area})}),class:"flex items-center border rounded py-1 px-2"},ee)]),s("div",te,[s("div",{onClick:t[2]||(t[2]=_=>{e.menuShow=!1,o.$emit("showQuebra",{sala:e.salaObj,encontroIdx:i.encontroIdx,area:i.area})}),class:"flex items-center border rounded py-1 px-2"},ie)]),s("div",le,[s("div",{onClick:t[3]||(t[3]=_=>{e.menuShow=!1,o.$emit("showInscritos",{sala:e.salaObj,encontroIdx:i.encontroIdx,area:i.area})}),class:"flex items-center border rounded py-1 px-2"},re)])])]),_:1},8,["modelValue"])]),_:1})])])):u("",!0),s("div",de,[r(b,{onClick:a.acessarSala,size:"xs",class:"h-2 px-2 mr-1",outline:""},{default:f(()=>[me]),_:1},8,["onClick"]),fe,s("span",_e,[r(b,{size:"6px",round:"",color:"blue-grey-1",class:"-ml-1"},{default:f(()=>[he,r(I,{delay:600},{default:f(()=>[pe]),_:1})]),_:1}),i.sala.link==""?(n(),d("span",ue," link n\xE3o informado ")):u("",!0),i.sala.link!=""?(n(),d("span",xe,l(i.sala.link),1)):u("",!0)])])])}var ge=$(Ys,[["render",ve]]);const be={props:{},data(){return{dialog:!1,sala:{},formacao:{},encontro:{},inscritos:[],area:null,filter:"",columns:[{label:"Forma\xE7\xE3o",field:"nome",align:"left",sortable:!0}]}},computed:{moment(){return O}},mounted(){},methods:{show(o,t,i,m){this.sala=o,this.formacao=t,this.encontro=i,this.area=m,this.dialog=!0,this.loadUsers()},loadUsers(){let o=this;this.inscritos=[];for(let t in this.sala.inscricoes){let i=this.sala.inscricoes[t];D(h(p,"/salamais/usuarios/"+i)).then(m=>{let e=m.val();o.inscritos.push(e)})}},goProfile(o){let t=this.$router.resolve({path:"/profile/"+o});window.open(t.href,"_blank")}}},we={class:"bg-white w-[500px]"},ye={class:"flex items-center justify-between p-2 bg-slate-200 h-[36px]"},$e=s("div",{class:"fw-600"}," Lista de inscritos ",-1),ke=x("Close"),Ie={class:"p-1"},De={class:"px-1"},Ce={class:"flex items-center font-bold text-lg md:text-lg max-w-lg text-gray-900 leading-tight"},Se=s("div",{class:""},[s("span",{class:"iconify text-purple-900 text-2xl","data-icon":"ic:school"})],-1),Ye={class:"flex-1 leading-3 ml-2"},Oe=s("div",{class:"pt-2 m-0 fw-200 text-[9pt] border-b border-gray-300"}," Forma\xE7\xE3o ",-1),je={class:"mt-1 leading-5 text-[12pt]"},Ve={key:0,class:"mx-8 my-[3px] fw-400 text-[10pt]"},Me=s("span",null,"DATA:",-1),Fe={class:"ml-1 text-[10pt] fw-500 px-1 pt-[2px] rounded text-slate-700 bg-slate-200"},Ue={class:"ml-1 text-[10pt] fw-300"},qe={key:1,class:"mx-8 my-[3px] fw-400 text-[8pt]"},Pe=s("span",{class:"fw-500 text-[8pt]"},"Per\xEDodo:",-1),Te={class:"ml-1 text-[7pt] fw-500 pl-[1px] pt-[2px] rounded text-slate-700 bg-slate-200"},ze={class:"text-[6pt]"},Ae=s("span",{class:"px-1"},"at\xE9",-1),Ee={class:"ml-1 text-[7pt] fw-500 pl-[1px] pt-[2px] rounded text-slate-700 bg-slate-200"},Ne={class:"text-[6pt]"},Qe={class:"mx-2 my-1"},Ke=s("div",{class:"text-[10pt] fw-600"}," Encontro ",-1),Je={class:"py-1 rounded flex items-center bg-slate-300"},Le={class:"ml-1 text-[10pt] fw-500 px-1 rounded text-slate-700 bg-slate-100"},He={class:"ml-1 text-[10pt] fw-300"},Be=s("span",{class:"ml-2 fw-200 text-[10pt]"},"Hor\xE1rio:",-1),Re={class:"px-1 rounded text-[10pt] fw-500 text-slate-900"},Ze={class:"pt-1 pb-1 px-1 mt-1 border shadow rounded"},Ge={class:"flex items-center leading-3"},We={class:"px-1 py-1 text-[12pt] rounded bg-slate-200"},Xe={class:"flex pl-[3px] px-1 py-1 leading-3 border ml-1 rounded"},st={key:0,class:"text-[11pt] fw-600 py-0 text-center"},et={key:1,class:"text-[11pt] fw-600 py-0 text-center"},tt=s("div",{class:"ml-1 fw-300 flato text-[10pt] py-0"}," inscri\xE7\xF5es ",-1),ot={key:0,class:"ml-2"},at={class:"flex items-center"},it={class:"mx-2 p-2 border rounded"},lt={class:"w-full"},nt={class:"p-1 flex items-center justify-between"},ct={class:"flex items-center"},rt={class:"-mb-2 w-[160px]"},dt=s("div",{class:"pl-1 -mt-1"},[s("span",{class:"iconify text-[11pt]","data-icon":"mi:search"})],-1),mt=s("div",{class:"mx-2 text-[10pt] fw-600"}," Inscritos ",-1),ft=["props"],_t={class:"px-1"},ht={class:"flex items-center p-2 border rounded"},pt={class:"ml-1"},ut={class:"leading-3 text-[10pt] fw-400 flato pt-1"},xt={class:"leading-3 text-[9pt] flato fw-300 mt-[1px]"},vt={class:"ml-3"},gt=s("span",{class:"iconify text-[10pt]","data-icon":"ic:outline-remove-red-eye"},null,-1),bt=x(" ver perfil ");function wt(o,t,i,m,e,a){const c=w("FormKit");return n(),Y(N,{modelValue:e.dialog,"onUpdate:modelValue":t[1]||(t[1]=_=>e.dialog=_),"transition-show":"slide-up","transition-hide":"slide-down"},{default:f(()=>[s("div",we,[s("div",ye,[$e,A((n(),Y(b,{dense:"",round:"",size:"sm",icon:"close"},{default:f(()=>[r(I,{class:"bg-white text-primary"},{default:f(()=>[ke]),_:1})]),_:1})),[[E]])]),s("div",Ie,[s("div",null,[s("div",De,[s("div",Ce,[Se,s("div",Ye,[Oe,s("div",je,l(e.formacao.nome),1)])]),e.formacao.dataInicio==e.formacao.dataTermino?(n(),d("div",Ve,[Me,s("span",Fe,l(a.moment(e.formacao.dataInicio).format("DD/MM/YYYY")),1),s("span",Ue," ("+l(a.moment(e.formacao.dataInicio).locale("pt-br").format("dddd"))+") ",1)])):u("",!0),e.formacao.dataInicio!=e.formacao.dataTermino?(n(),d("div",qe,[Pe,s("span",Te,[x(l(a.moment(e.formacao.dataInicio).format("DD/MM/YYYY"))+" ",1),s("span",ze," ("+l(a.moment(e.formacao.dataInicio).locale("pt-br").format("ddd").toUpperCase())+") ",1)]),Ae,s("span",Ee,[x(l(a.moment(e.formacao.dataTermino).format("DD/MM/YYYY"))+" ",1),s("span",Ne," ("+l(a.moment(e.formacao.dataTermino).locale("pt-br").format("ddd").toUpperCase())+") ",1)])])):u("",!0)])])]),s("div",Qe,[Ke,s("div",Je,[s("div",null,[s("span",Le,l(a.moment(e.encontro.data).format("DD/MM/YYYY")),1),s("span",He," ("+l(a.moment(e.encontro.data).locale("pt-br").format("dddd").split("-")[0])+") ",1)]),s("div",null,[Be,s("span",Re,l(e.encontro.horaInicio)+" \xE0s "+l(e.encontro.horaTermino),1)])]),s("div",Ze,[s("div",Ge,[s("span",We,l(e.sala.id),1),s("div",Xe,[e.sala.inscricoes==null?(n(),d("div",st," 0 ")):u("",!0),e.sala.inscricoes!=null?(n(),d("div",et,l(Object.keys(e.sala.inscricoes).length),1)):u("",!0),tt]),e.formacao.turmasPorArea&&e.area!=null?(n(),d("div",ot,[s("div",at,[s("span",{style:V("background-color:"+e.area.cor),class:"leading-3 ml-1 text-[5pt] fw-700 px-1 pt-[1px] rounded text-white"},l(e.area.sigla),5),s("span",{class:"ml-1 mt-1 text-[8pt] fw-500",style:V("color:"+e.area.cor)},l(e.area.nome),5)])])):u("",!0)])])]),s("div",it,[r(Q,{dense:"",pagination:{rowsPerPage:20},rows:e.inscritos,filter:e.filter,columns:e.columns,"row-key":"id","table-colspan":"1"},{top:f(()=>[s("div",lt,[s("div",nt,[s("div",ct,[s("div",rt,[r(c,{modelValue:e.filter,"onUpdate:modelValue":t[0]||(t[0]=_=>e.filter=_),classes:{inner:"h-5"},type:"text",placeholder:"Filtrar"},null,8,["modelValue"])]),dt])])])]),header:f(()=>[mt]),body:f(_=>[s("div",{props:_,class:""},[s("div",_t,[s("div",ht,[s("div",null,[r(q,{size:"30px"},{default:f(()=>[r(P,{src:_.row.urlFoto},null,8,["src"])]),_:2},1024)]),s("div",pt,[s("div",ut,l(_.row.nome),1),s("div",xt,l(_.row.email),1)]),s("div",vt,[r(b,{size:"7px",round:"",onClick:v=>a.goProfile(_.row.id)},{default:f(()=>[gt,r(I,null,{default:f(()=>[bt]),_:1})]),_:2},1032,["onClick"])])])])],8,ft)]),_:1},8,["rows","filter","columns"])])])]),_:1},8,["modelValue"])}var yt=$(be,[["render",wt]]);const $t={data(){return{inputCss:{inner:"h-7 text-[8pt] fw-700"},menuShow:!1,users:[],filter:"",columns:[{label:"",field:"nome",align:"left",sortable:!0}]}},mounted(){let o=this;U(h(p,"/salamais/usuarios"),t=>{let i=J(t);o.users=i})},methods:{selecionar(o){this.menuShow=!1,this.$emit("onSelect",o)}}},kt=s("span",{class:"iconify mr-1 text-[9pt]","data-icon":"mdi:account-edit-outline"},null,-1),It=s("span",{class:"mt-[2px]"},"adicionar",-1),Dt={class:"w-[300px]"},Ct={class:"flex items-center justify-between p-2 pl-3 bg-slate-200 text-xs fw-300"},St=s("div",null," Selecione um usu\xE1rio ",-1),Yt={class:"mx-2 p-2 border rounded"},Ot={class:"w-full"},jt={class:"p-1 flex items-center justify-between"},Vt={class:"flex items-center"},Mt={class:"-mb-2 w-[160px]"},Ft=s("div",{class:"pl-1 -mt-1"},[s("span",{class:"iconify text-[11pt]","data-icon":"mi:search"})],-1),Ut=["props"],qt={class:"px-1"},Pt=["onClick"],Tt={class:"flex-1 ml-1 text-ellipsis truncate"},zt={class:"leading-3 text-[8pt] fw-500 flato pt-1"},At={class:"leading-3 text-[7pt] flato fw-300 -mt-[1px]"};function Et(o,t,i,m,e,a){const c=w("FormKit");return n(),d("span",null,[r(b,{class:"flex items-center text-[8pt] pr-2 pl-1 py-0",size:"8px",outline:"",color:"blue-grey-8"},{default:f(()=>[kt,It,r(z,{modelValue:e.menuShow,"onUpdate:modelValue":t[2]||(t[2]=_=>e.menuShow=_)},{default:f(()=>[s("div",Dt,[s("div",Ct,[St,u("",!0)]),s("div",Yt,[r(Q,{dense:"",pagination:{rowsPerPage:20},rows:e.users,filter:e.filter,columns:e.columns,"table-colspan":"1"},{top:f(()=>[s("div",Ot,[s("div",jt,[s("div",Vt,[s("div",Mt,[r(c,{modelValue:e.filter,"onUpdate:modelValue":t[1]||(t[1]=_=>e.filter=_),classes:{inner:"h-5"},type:"text",placeholder:"Filtrar"},null,8,["modelValue"])]),Ft])])])]),header:f(()=>[]),body:f(_=>[s("div",{props:_,class:""},[s("div",qt,[s("div",{onClick:v=>a.selecionar(_.row),class:"flex items-center p-1 border rounded hover:bg-gray-200 cursor-pointer"},[s("div",null,[r(q,{size:"26px"},{default:f(()=>[r(P,{src:_.row.urlFoto},null,8,["src"])]),_:2},1024)]),s("div",Tt,[s("div",zt,l(_.row.nome),1),s("div",At,l(_.row.email),1)])],8,Pt)])],8,Ut)]),_:1},8,["rows","filter","columns"])])])]),_:1},8,["modelValue"])]),_:1})])}var L=$($t,[["render",Et]]);const Nt={props:{userID:{default:"noid",type:String}},data(){return{user:null}},watch:{userID(){this.load()}},mounted(){this.load()},methods:{load(){let o=this;D(h(p,"/salamais/usuarios/"+this.userID)).then(t=>{let i=t.val();i&&(o.user=i)})}}},Qt={key:0,class:"flex items-center p-1"},Kt={class:"ml-2 leading-3"},Jt=s("span",{class:"text-[8pt] fw-300"},"Nome:",-1),Lt={class:"text-[10pt] ml-1 fw-400"},Ht={class:"mt-1"},Bt=s("span",{class:"text-[8pt] fw-300"},"Email:",-1),Rt={class:"text-[9pt] flato ml-1 fw-300"},Zt={class:"flex-1 flex justify-end"},Gt=s("span",{class:"iconify text-[8pt]","data-icon":"mdi:remove"},null,-1);function Wt(o,t,i,m,e,a){return e.user!=null?(n(),d("div",Qt,[s("div",null,[r(q,{size:"30px"},{default:f(()=>[r(P,{src:e.user.urlFoto},null,8,["src"])]),_:1})]),s("div",Kt,[s("div",null,[Jt,s("span",Lt,l(e.user.nome),1)]),s("div",Ht,[Bt,s("span",Rt,l(e.user.email),1)])]),s("div",Zt,[r(b,{size:"6px",round:"",onClick:t[0]||(t[0]=c=>o.$emit("remove",e.user))},{default:f(()=>[Gt]),_:1})])])):u("",!0)}var H=$(Nt,[["render",Wt]]);const Xt={components:{selecionaruser:L,facilitadorinfo:H},props:{},data(){return{dialog:!1,inputCss:{inner:"h-7 text-[8pt] fw-700"},inputCss2:{inner:"h-7 text-[9pt] fw-700"},sala:{},formacao:{},encontro:{},inscritos:[],area:null,facilitador:null,facilitadores:{},link:"",chCertificado:6,modeloCert:"",modeloOptions:["Monaco","Vatican City","Maldives","Tuvalu"]}},computed:{moment(){return O}},mounted(){},methods:{loadModeloOptions(){let o=this;D(h(p,"/salamais/modelosCertificados")).then(t=>{let i=t.val();o.modeloOptions=[];for(let m in i)o.modeloOptions.push({label:i[m].nome,value:m});(o.modeloCert==null||o.modeloCert=="")&&(o.modeloCert=o.modeloOptions[0].value)})},show(o,t,i,m){console.log("sala",o),this.loadModeloOptions(),o.inscricoes==null&&(o.inscricoes={}),o.facilitadores==null&&(o.facilitadores={}),this.sala=JSON.parse(JSON.stringify(o)),this.formacao=t,this.encontro=i,this.area=m,this.facilitador=null,this.facilitadores=JSON.parse(JSON.stringify(this.sala.facilitadores)),this.chCertificado=o.chCertificado,this.chCertificado==null&&(this.chCertificado=6),this.modeloCert=o.modeloCertificado,console.log("this.sala",this.sala),this.dialog=!0},selectUser(o){console.log(o),this.facilitador=o,this.facilitadores[o.id]=o.id},removeFacilitador(o){console.log("removeFacilitador",o),delete this.facilitadores[o.id]},salvar(){let o=this,t="/salamais/formacoes/"+this.formacao.id+"/encontros/"+this.encontro.id;this.formacao.turmasPorArea?t=t+"/areas/"+o.area.id+"/salas/"+this.sala.id+"/":t=t+"/salas/"+this.sala.id+"/",g(h(p,t+"facilitadores"),null);for(let e in o.facilitadores)g(h(p,t+"facilitadores/"+o.facilitadores[e]),o.facilitadores[e]);g(h(p,t+"link"),o.link),g(h(p,t+"modeloCertificado"),o.modeloCert),g(h(p,t+"chCertificado"),o.chCertificado),o.dialog=!1,o.$q.notify(M.success("Facilitador / Link atualizado com sucesso!")),o.$emit("salaUpdate");for(let e in o.facilitadores){let a=o.facilitadores[e];if(o.sala.facilitadores[a]==null){let c="/salamais/facilitadores/"+a;g(h(p,c+"/id"),a),c=c+"/formacoes/"+this.formacao.id,g(h(p,c+"/id"),this.formacao.id),g(h(p,c+"/encontros/"+this.encontro.id),{id:this.encontro.id,area:o.area,salaID:o.sala.id})}}function i(e){D(h(p,"/salamais/facilitadores/"+e)).then(a=>{a.val().formacoes==null&&g(h(p,"/salamais/facilitadores/"+e),null)})}function m(e,a){D(h(p,e+"/encontros/")).then(c=>{c.val()==null&&(g(h(p,e),null),i(a))})}for(let e in o.sala.facilitadores){let a=o.sala.facilitadores[e];if(o.facilitadores[a]==null){let c="/salamais/facilitadores/"+a;c=c+"/formacoes/"+this.formacao.id,g(h(p,c+"/encontros/"+this.encontro.id),null),m(c,a)}}}}},so={class:"bg-white w-[600px]"},eo={class:"flex items-center justify-between p-2 bg-slate-200 h-[36px]"},to=s("div",{class:"fw-600"}," Editar Facilitador / Link ",-1),oo=x("Close"),ao={class:"p-1"},io={class:"px-1"},lo={class:"flex items-center font-bold text-lg md:text-lg max-w-lg text-gray-900 leading-tight"},no=s("div",{class:""},[s("span",{class:"iconify text-purple-900 text-2xl","data-icon":"ic:school"})],-1),co={class:"flex-1 leading-3 ml-2"},ro=s("div",{class:"pt-2 m-0 fw-200 text-[10pt] border-b border-gray-300"}," Forma\xE7\xE3o ",-1),mo={class:"mt-1 leading-5 text-[12pt]"},fo={key:0,class:"mx-8 my-[3px] fw-400 text-[10pt]"},_o=s("span",null,"DATA:",-1),ho={class:"ml-1 text-[10pt] fw-500 px-1 pt-[2px] rounded text-slate-700 bg-slate-200"},po={class:"ml-1 text-[10pt] fw-300"},uo={key:1,class:"mx-8 my-[3px] fw-400 text-[10pt]"},xo=s("span",{class:"fw-500 text-[10pt]"},"Per\xEDodo:",-1),vo={class:"ml-1 text-[10pt] fw-500 pl-[1px] pt-[2px] rounded text-slate-700 bg-slate-200"},go={class:"text-[10pt]"},bo=s("span",{class:"px-1"},"at\xE9",-1),wo={class:"ml-1 text-[10pt] fw-500 pl-[1px] pt-[2px] rounded text-slate-700 bg-slate-200"},yo={class:"text-[10pt]"},$o={class:"mx-2 my-1"},ko=s("div",{class:"text-[10pt] fw-600"}," Encontro ",-1),Io={class:"py-1 rounded flex items-center bg-slate-300"},Do={class:"ml-1 text-[10pt] fw-500 px-1 rounded text-slate-700 bg-slate-100"},Co={class:"ml-1 text-[10pt] fw-300"},So=s("span",{class:"ml-2 fw-200 text-[10pt]"},"Hor\xE1rio:",-1),Yo={class:"px-1 rounded text-[10pt] fw-500 text-slate-900"},Oo={class:"pt-1 pb-1 px-1 border shadow rounded"},jo={class:"flex items-center leading-3"},Vo={class:"px-1 py-1 text-[12pt] rounded bg-slate-200"},Mo={class:"flex pl-[3px] px-1 py-1 leading-3 border ml-1 rounded"},Fo={class:"text-[10pt] fw-600 py-0 text-center"},Uo=s("div",{class:"ml-1 fw-300 flato text-[10pt] py-0"}," inscri\xE7\xF5es ",-1),qo={key:0,class:"ml-2"},Po={class:"flex items-center"},To={class:"mx-2 p-2 px-4 border rounded"},zo={class:"flex items-center justify-between mb-1"},Ao=s("div",{class:"text-[10pt] fw-600"}," Facilitadores ",-1),Eo={class:"flex-1 flex justify-end"},No={key:0,class:"ml-2 leading-3"},Qo=s("div",{class:"text-[8pt] fw-300 text-red-800"}," Nenhum facilitador informado ",-1),Ko=[Qo],Jo={class:"mx-2 p-2 border rounded"},Lo={class:"grid grid-cols-3"},Ho={class:"px-2 col-span-2"},Bo={class:"px-2"},Ro={class:"mx-2 p-2 border rounded"},Zo={class:"px-2"},Go={class:"my-2 text-center flex justify-center"},Wo=s("span",{class:"iconify mr-1 text-[11pt]","data-icon":"ic:save"},null,-1),Xo=s("span",{class:"mt-[2px]"},"salvar",-1);function sa(o,t,i,m,e,a){const c=w("selecionaruser"),_=w("facilitadorinfo"),v=w("FormKit");return n(),Y(N,{modelValue:e.dialog,"onUpdate:modelValue":t[3]||(t[3]=k=>e.dialog=k),"transition-show":"slide-up","transition-hide":"slide-down"},{default:f(()=>[s("div",so,[s("div",eo,[to,A((n(),Y(b,{dense:"",round:"",size:"sm",icon:"close"},{default:f(()=>[r(I,{class:"bg-white text-primary"},{default:f(()=>[oo]),_:1})]),_:1})),[[E]])]),s("div",ao,[s("div",null,[s("div",io,[s("div",lo,[no,s("div",co,[ro,s("div",mo,l(e.formacao.nome),1)])]),e.formacao.dataInicio==e.formacao.dataTermino?(n(),d("div",fo,[_o,s("span",ho,l(a.moment(e.formacao.dataInicio).format("DD/MM/YYYY")),1),s("span",po," ("+l(a.moment(e.formacao.dataInicio).locale("pt-br").format("dddd"))+") ",1)])):u("",!0),e.formacao.dataInicio!=e.formacao.dataTermino?(n(),d("div",uo,[xo,s("span",vo,[x(l(a.moment(e.formacao.dataInicio).format("DD/MM/YYYY"))+" ",1),s("span",go," ("+l(a.moment(e.formacao.dataInicio).locale("pt-br").format("ddd").toUpperCase())+") ",1)]),bo,s("span",wo,[x(l(a.moment(e.formacao.dataTermino).format("DD/MM/YYYY"))+" ",1),s("span",yo," ("+l(a.moment(e.formacao.dataTermino).locale("pt-br").format("ddd").toUpperCase())+") ",1)])])):u("",!0)])])]),s("div",$o,[ko,s("div",Io,[s("div",null,[s("span",Do,l(a.moment(e.encontro.data).format("DD/MM/YYYY")),1),s("span",Co," ("+l(a.moment(e.encontro.data).locale("pt-br").format("dddd").split("-")[0])+") ",1)]),s("div",null,[So,s("span",Yo,l(e.encontro.horaInicio)+" \xE0s "+l(e.encontro.horaTermino),1)])]),s("div",Oo,[s("div",jo,[s("span",Vo,l(e.sala.id),1),s("div",Mo,[s("div",Fo,l(e.sala.inscricoes.length),1),Uo]),e.formacao.turmasPorArea&&e.area!=null?(n(),d("div",qo,[s("div",Po,[s("span",{style:V("background-color:"+e.area.cor),class:"leading-3 ml-1 text-[5pt] fw-700 px-1 pt-[1px] rounded text-white"},l(e.area.sigla),5),s("span",{class:"ml-1 mt-1 text-[8pt] fw-500",style:V("color:"+e.area.cor)},l(e.area.nome),5)])])):u("",!0)])])]),s("div",To,[s("div",zo,[Ao,s("div",Eo,[r(c,{onOnSelect:a.selectUser},null,8,["onOnSelect"])])]),Object.keys(e.facilitadores).length==0?(n(),d("div",No,Ko)):u("",!0),(n(!0),d(C,null,S(e.facilitadores,(k,T)=>(n(),d("div",{class:"border rounded p-1",key:T},[r(_,{userID:k,onRemove:a.removeFacilitador},null,8,["userID","onRemove"])]))),128))]),s("div",Jo,[s("div",Lo,[s("div",Ho,[r(v,{type:"select",modelValue:e.modeloCert,"onUpdate:modelValue":t[0]||(t[0]=k=>e.modeloCert=k),label:"Modelo certificado para facilitador",help:"selecione um modelo de certificado",required:"",classes:e.inputCss2,options:e.modeloOptions},null,8,["modelValue","classes","options"])]),s("div",Bo,[r(v,{modelValue:e.chCertificado,"onUpdate:modelValue":t[1]||(t[1]=k=>e.chCertificado=k),label:"Carga Hor\xE1ria",help:"CH do certificado",required:"",classes:e.inputCss},null,8,["modelValue","classes"])])])]),s("div",Ro,[s("div",Zo,[r(v,{modelValue:e.link,"onUpdate:modelValue":t[2]||(t[2]=k=>e.link=k),label:"Link do encontro",help:"url do link de encontro",required:"",classes:e.inputCss},null,8,["modelValue","classes"])])]),s("div",Go,[r(b,{onClick:a.salvar,class:"flex items-center",size:"sm",outline:"",color:"blue-grey-8"},{default:f(()=>[Wo,Xo]),_:1},8,["onClick"])])])]),_:1},8,["modelValue"])}var ea=$(Xt,[["render",sa]]);const ta={props:{formacao:{default:null,type:Object},encontro:{default:null,type:Object}},data(){return{refresh:0,status:"fechada",userStore:Z(),enabled:!1}},watch:{formacao(){this.load()},encontro(){this.load()}},computed:{moment(){return O}},mounted(){this.load()},methods:{load(){let o=this;if(this.formacao&&this.encontro){let t=`/salamais/formacoes/${this.formacao.id}/encontros/${this.encontro.id}`;U(h(p,t+"/presencaStatus"),i=>{let m=i.val();m?o.status=m:o.status="fechada",o.refresh++})}this.checkEnabled()},checkEnabled(){let o=this.userStore.user.cpf;["18374109840","28854077860","99271176804","12345678900","36126741889"].lastIndexOf(o)!=-1?this.enabled=!0:this.enabled=!1,this.refresh++},abrirPresenca(){let o=this;console.log("abrirPresenca"),console.log("this.formacao",this.formacao),console.log("this.encontro",this.encontro);let t=`/salamais/formacoes/${this.formacao.id}/encontros/${this.encontro.id}`;console.log("path",t),g(h(p,t+"/presencaStatus"),"liberada"),o.$q.notify(M.success("Lista de presen\xE7a aberta com sucesso!"))},fecharPresenca(){let o=this;console.log("fecharPresenca");let t=`/salamais/formacoes/${this.formacao.id}/encontros/${this.encontro.id}`;console.log("path",t),g(h(p,t+"/presencaStatus"),"encerrada"),o.$q.notify(M.success("Lista de presen\xE7a fechada com sucesso!"))}}},oa=s("span",{class:"iconify text-[10pt] text-red-800","data-icon":"mdi:lock-outline"},null,-1),aa=s("span",{class:"ml-1 pt-[1px] text-[5pt]"},"fechar presen\xE7a",-1),ia=s("span",{class:"iconify text-[10pt]","data-icon":"mdi:lock-open-outline"},null,-1),la=s("span",{class:"ml-1 pt-[1px] text-[5pt]"},"abrir presen\xE7a",-1);function na(o,t,i,m,e,a){return e.enabled?(n(),d("div",{class:"flex justify-end mr-1",key:e.refresh},[e.status=="liberada"?(n(),Y(b,{key:0,onClick:a.fecharPresenca,size:"xs",class:"text-red-800 bg-gray-100 px-2"},{default:f(()=>[oa,aa]),_:1},8,["onClick"])):u("",!0),e.status!="liberada"?(n(),Y(b,{key:1,onClick:a.abrirPresenca,size:"xs",class:"text-black bg-gray-100 px-2"},{default:f(()=>[ia,la]),_:1},8,["onClick"])):u("",!0)])):u("",!0)}var ca=$(ta,[["render",na]]);const ra={components:{selecionaruser:L,facilitadorinfo:H},props:{},data(){return{dialog:!1,loading:!1,removeDialog:!1,confirmarDisabled:!0,inputCss:{inner:"h-7 text-[8pt] fw-700"},salas:{},formacao:{},encontro:{},inscritos:[],area:null,userInscricaoID:{},link:""}},computed:{moment(){return O},qtdeInscricoes(){return this.sala&&this.sala.inscricoes!=null?Object.keys(this.sala.inscricoes).length:0}},mounted(){},methods:{show(o,t,i,m){console.log("sala",o);let e=this;e.confirmarDisabled=!0,o.inscricoes==null&&(o.inscricoes={}),o.facilitadores==null&&(o.facilitadores={}),this.area=JSON.parse(JSON.stringify(m)),this.formacao=JSON.parse(JSON.stringify(t)),this.encontro=JSON.parse(JSON.stringify(i)),console.log("this.formacao",this.formacao),console.log("this.encontro",this.encontro),this.salas={},JSON.parse(JSON.stringify(o)),this.salas={},t.turmasPorArea?(console.log("area",m),this.salas=this.encontro.areas[m.id].salas):(console.log("n\xE3o tem \xE1rea"),this.salas=this.encontro.salas),console.log("this.salas",this.salas),this.dialog=!0},getUsersInscricaoID:async function(o){let t=G(h(p,"/salamais/inscricoes/"),X("formacaoID"),W(this.formacao.id)),m=(await D(t)).val(),e={};for(let a in o)e[o[a]]={userID:o[a],inscricaoID:""};console.log("todosInscritosKey",e),console.log("data",m);for(let a in m)for(let c in m[a].encontros)this.formacao.turmasPorArea?c==this.encontro.id&&this.area.id==m[a].encontros[c].area&&(e[m[a].userID].inscricaoID=a):c==this.encontro.id&&(e[m[a].userID].inscricaoID=a);return e},async quebraSalas(o){let t=!0;for(let e in this.salas){let a=this.salas[e].inscricoes;a!=null?Object.keys(a).length<=1&&(t=!1):t=!1}if(!t)return this.$q.notify(M.error("N\xE3o \xE9 poss\xEDvel quebra de salas com menos de 2 inscritos!")),this.salas;let i=[];for(let e in this.salas){let a=this.salas[e].inscricoes;if(a!=null)for(let c in a)i.push(a[c]);this.salas[e].inscricoes={}}this.salas["sala"+o]={cancelado:!1,facilitador:"",id:"sala"+o,inscricoes:{},link:""},console.log("todosInscritos",i);let m=await this.getUsersInscricaoID(i);for(;i.length>0;){let e=i.pop(),a=Object.keys(this.salas)[0];for(let c in this.salas){let _=Object.keys(this.salas[a].inscricoes).length;Object.keys(this.salas[c].inscricoes).length<_&&(a=c)}this.salas[a].inscricoes[e]=e}return m},async abrirNovaSala(){let o=this;if(o.loading=!0,console.log("this.salas",this.salas),console.log(this.encontro),console.log(this.formacao),this.userInscricaoID={},this.formacao.turmasPorArea){console.log("area",this.area),this.encontro.areas[this.area.id].salaIDCtrl++;let t=this.encontro.areas[this.area.id].salaIDCtrl;this.userInscricaoID=await this.quebraSalas(t)}else{console.log("n\xE3o tem \xE1rea"),this.encontro.salaIDCtrl++;let t=this.encontro.salaIDCtrl;this.userInscricaoID=await this.quebraSalas(t)}console.log("this.userInscricaoID",this.userInscricaoID),console.log("this.salas",this.salas),o.loading=!1,o.confirmarDisabled=!1},salvar(){let o=this;if(console.log("this.salas",this.salas),console.log("this.encontro",this.encontro),console.log("this.formacao",this.formacao),console.log("this.userInscricaoID",this.userInscricaoID),this.formacao.turmasPorArea){console.log("area",this.area);let t="/salamais/formacoes/"+this.formacao.id;t=t+"/encontros/"+this.encontro.id,console.log(t+"/areas/"+this.area.id+"/salaIDCtrl",this.encontro.areas[this.area.id].salaIDCtrl),console.log(t+"/areas/"+this.area.id+"/salas",this.salas),g(h(p,t+"/areas/"+this.area.id+"/salaIDCtrl"),this.encontro.areas[this.area.id].salaIDCtrl),g(h(p,t+"/areas/"+this.area.id+"/salas"),this.salas);for(let i in this.salas){let m=parseInt(i.substring(4));for(let e in this.salas[i].inscricoes){let a=this.salas[i].inscricoes[e];console.log("userID",a);let c="/salamais/inscricoes/"+this.userInscricaoID[a].inscricaoID;c=c+"/encontros/"+this.encontro.id,console.log(c+"/sala",m),g(h(p,c+"/sala"),m)}}}else{console.log("n\xE3o tem \xE1rea");let t="/salamais/formacoes/"+this.formacao.id;t=t+"/encontros/"+this.encontro.id,console.log(t+"/salaIDCtrl",this.encontro.salaIDCtrl),console.log(t+"/salas",this.salas),g(h(p,t+"/salaIDCtrl"),this.encontro.salaIDCtrl),g(h(p,t+"/salas"),this.salas);for(let i in this.salas){let m=parseInt(i.substring(4));for(let e in this.salas[i].inscricoes){let a=this.salas[i].inscricoes[e],c="/salamais/inscricoes/"+this.userInscricaoID[a].inscricaoID;c=c+"/encontros/"+this.encontro.id,console.log(c+"/sala",m),g(h(p,c+"/sala"),m)}}}o.$q.notify(M.success("Salas divididas com sucesso!")),this.removeDialog=!1,o.dialog=!1,o.$emit("salaUpdate")}}},da={class:"bg-white w-[600px]"},ma={class:"flex items-center justify-between p-2 bg-slate-200 h-[36px]"},fa=s("div",{class:"fw-600"}," Dividir inscritos / Abrir nova Sala ",-1),_a=x("Close"),ha={class:"p-1"},pa={class:"px-1"},ua={class:"flex items-center font-bold text-lg md:text-lg max-w-lg text-gray-900 leading-tight"},xa=s("div",{class:""},[s("span",{class:"iconify text-purple-900 text-2xl","data-icon":"ic:school"})],-1),va={class:"flex-1 leading-3 ml-2"},ga=s("div",{class:"pt-2 m-0 fw-200 text-[10pt] border-b border-gray-300"}," Forma\xE7\xE3o ",-1),ba={class:"mt-1 leading-5 text-[12pt]"},wa={key:0,class:"mx-8 my-[3px] fw-400 text-[10pt]"},ya=s("span",null,"DATA:",-1),$a={class:"ml-1 text-[10pt] fw-500 px-1 pt-[2px] rounded text-slate-700 bg-slate-200"},ka={class:"ml-1 text-[10pt] fw-300"},Ia={key:1,class:"mx-8 my-[3px] fw-400 text-[10pt]"},Da=s("span",{class:"fw-500 text-[10pt]"},"Per\xEDodo:",-1),Ca={class:"ml-1 text-[10pt] fw-500 pl-[1px] pt-[2px] rounded text-slate-700 bg-slate-200"},Sa={class:"text-[10pt]"},Ya=s("span",{class:"px-1"},"at\xE9",-1),Oa={class:"ml-1 text-[10pt] fw-500 pl-[1px] pt-[2px] rounded text-slate-700 bg-slate-200"},ja={class:"text-[10pt]"},Va={class:"mx-2 my-1"},Ma=s("div",{class:"text-[10pt] fw-600"}," Encontro ",-1),Fa={class:"py-1 rounded flex items-center bg-slate-300"},Ua={class:"ml-1 text-[10pt] fw-500 px-1 rounded text-slate-700 bg-slate-100"},qa={class:"ml-1 text-[10pt] fw-300"},Pa=s("span",{class:"ml-2 fw-200 text-[10pt]"},"Hor\xE1rio:",-1),Ta={class:"px-1 rounded text-[10pt] fw-500 text-slate-900"},za=s("div",{class:"mt-2 fw-500"}," Salas ",-1),Aa={class:"flex items-center leading-3"},Ea={class:"px-1 py-1 text-[12pt] rounded bg-slate-200"},Na={class:"flex pl-[3px] px-1 py-1 leading-3 border ml-1 rounded"},Qa={key:0,class:"text-[10pt] fw-600 py-0 text-center"},Ka={key:1,class:"text-[10pt] fw-600 py-0 text-center"},Ja=s("div",{class:"ml-1 fw-300 flato text-[10pt] py-0"}," inscri\xE7\xF5es ",-1),La={key:0,class:"ml-2"},Ha={class:"flex items-center"},Ba={class:"my-2 text-center flex justify-end mr-2"},Ra=s("span",{class:"iconify mr-1 text-[11pt]","data-icon":"ic:save"},null,-1),Za=s("span",{class:"mt-[2px]"},"Abrir nova sala",-1),Ga=s("hr",null,null,-1),Wa={class:"my-2 text-center flex justify-center"},Xa=s("span",{class:"mt-[2px]"},"Cancelar",-1),si=s("span",{class:"iconify mr-1 text-[11pt]","data-icon":"ic:save"},null,-1),ei=s("span",{class:"mt-[2px]"},"Confirmar",-1),ti={class:"rounded w-[200px]"},oi=s("div",{class:"flex p-1 bg-red-800 text-white"},[s("div",{class:"text-[10pt] px-1"},[s("span",{class:"iconify","data-icon":"mdi:warning"})]),s("div",{class:"text-[8pt] fw-700"},"Deseja realmente dividir as salas?")],-1),ai={class:"flex justify-around p-2"},ii=x("n\xE3o "),li=x(" sim");function ni(o,t,i,m,e,a){return n(),Y(N,{modelValue:e.dialog,"onUpdate:modelValue":t[3]||(t[3]=c=>e.dialog=c),"transition-show":"slide-up","transition-hide":"slide-down"},{default:f(()=>[s("div",da,[s("div",ma,[fa,A((n(),Y(b,{dense:"",round:"",size:"sm",icon:"close"},{default:f(()=>[r(I,{class:"bg-white text-primary"},{default:f(()=>[_a]),_:1})]),_:1})),[[E]])]),s("div",ha,[s("div",null,[s("div",pa,[s("div",ua,[xa,s("div",va,[ga,s("div",ba,l(e.formacao.nome),1)])]),e.formacao.dataInicio==e.formacao.dataTermino?(n(),d("div",wa,[ya,s("span",$a,l(a.moment(e.formacao.dataInicio).format("DD/MM/YYYY")),1),s("span",ka," ("+l(a.moment(e.formacao.dataInicio).locale("pt-br").format("dddd"))+") ",1)])):u("",!0),e.formacao.dataInicio!=e.formacao.dataTermino?(n(),d("div",Ia,[Da,s("span",Ca,[x(l(a.moment(e.formacao.dataInicio).format("DD/MM/YYYY"))+" ",1),s("span",Sa," ("+l(a.moment(e.formacao.dataInicio).locale("pt-br").format("ddd").toUpperCase())+") ",1)]),Ya,s("span",Oa,[x(l(a.moment(e.formacao.dataTermino).format("DD/MM/YYYY"))+" ",1),s("span",ja," ("+l(a.moment(e.formacao.dataTermino).locale("pt-br").format("ddd").toUpperCase())+") ",1)])])):u("",!0)])])]),s("div",Va,[Ma,s("div",Fa,[s("div",null,[s("span",Ua,l(a.moment(e.encontro.data).format("DD/MM/YYYY")),1),s("span",qa," ("+l(a.moment(e.encontro.data).locale("pt-br").format("dddd").split("-")[0])+") ",1)]),s("div",null,[Pa,s("span",Ta,l(e.encontro.horaInicio)+" \xE0s "+l(e.encontro.horaTermino),1)])]),za,(n(!0),d(C,null,S(e.salas,(c,_)=>(n(),d("div",{key:_,class:"pt-1 pb-1 px-1 border shadow rounded"},[s("div",Aa,[s("span",Ea,l(c.id),1),s("div",Na,[c&&c.inscricoes!=null?(n(),d("div",Qa,l(Object.keys(c.inscricoes).length),1)):(n(),d("div",Ka," 0 ")),Ja]),e.formacao.turmasPorArea&&e.area!=null?(n(),d("div",La,[s("div",Ha,[s("span",{style:V("background-color:"+e.area.cor),class:"leading-3 ml-1 text-[5pt] fw-700 px-1 pt-[1px] rounded text-white"},l(e.area.sigla),5),s("span",{class:"ml-1 mt-1 text-[8pt] fw-500",style:V("color:"+e.area.cor)},l(e.area.nome),5)])])):u("",!0)])]))),128))]),s("div",Ba,[r(b,{loading:e.loading,onClick:a.abrirNovaSala,class:"flex items-center",size:"sm",outline:"",color:"blue-grey-8"},{default:f(()=>[Ra,Za]),_:1},8,["loading","onClick"])]),Ga,s("div",Wa,[r(b,{onClick:t[0]||(t[0]=c=>e.dialog=!1),class:"mr-4 flex items-center",size:"sm",outline:"",color:"blue-grey-8"},{default:f(()=>[Xa]),_:1}),r(b,{disabled:e.confirmarDisabled,class:"flex items-center",size:"sm",outline:"",color:"red-8"},{default:f(()=>[si,ei,r(z,{modelValue:e.removeDialog,"onUpdate:modelValue":t[2]||(t[2]=c=>e.removeDialog=c)},{default:f(()=>[s("div",ti,[oi,s("div",ai,[r(b,{onClick:t[1]||(t[1]=c=>e.removeDialog=!1),size:"xs"},{default:f(()=>[ii]),_:1}),r(b,{onClick:a.salvar,class:"bg-red-800 text-white",size:"xs"},{default:f(()=>[li]),_:1},8,["onClick"])])])]),_:1},8,["modelValue"])]),_:1},8,["disabled"])])])]),_:1},8,["modelValue"])}var ci=$(ra,[["render",ni]]);const ri={components:{salainfo:ge,dialoginscritos:yt,dialogeditar:ea,abrirpresenca:ca,quebrarSala:ci},props:{formacao:{default:null,type:Object}},data(){return{refresh:0,areas:[]}},computed:{moment(){return O}},mounted(){let o=this;D(h(p,"/salamais/areas")).then(t=>{let i=t.val();o.areas=i})},methods:{showInscritos({sala:o,encontroIdx:t,area:i}){console.log(o),console.log(t),console.log(i),this.$refs.dialoginscritosref.show(o,this.formacao,this.formacao.encontros[t],i)},showEditar({sala:o,encontroIdx:t,area:i}){console.log(o),console.log(t),console.log(i),this.$refs.dialogeditarref.show(o,this.formacao,this.formacao.encontros[t],i)},showQuebra({sala:o,encontroIdx:t,area:i}){console.log(o),console.log(t),console.log(i),this.$refs.quebrarSalaref.show(o,this.formacao,this.formacao.encontros[t],i)}}},di={key:0,class:""},mi={key:0,class:""},fi={class:"fw-500 text-[9pt]"},_i=x(" Forma\xE7\xE3o com inscri\xE7\xF5es por encontro(s) "),hi={key:0},pi={class:"mt-1 bg-slate-200 rounded pb-1"},ui={class:"p-1 rounded flex items-center bg-slate-300"},xi={class:"ml-1 text-[9pt] fw-500 px-1 rounded text-slate-700 bg-slate-100"},vi={class:"ml-1 text-[9pt] fw-300"},gi=s("span",{class:"ml-2 fw-200 text-[9pt]"},"Hor\xE1rio:",-1),bi={class:"px-1 rounded text-[9pt] fw-500 text-slate-900"},wi={class:"flex-1"},yi={key:0},$i={class:"w-12"},ki={class:"flex-1"},Ii={key:1},Di={class:"ml-1 mt-1 border rounded bg-white p-1"},Ci={key:1},Si=s("span",{class:"fw-500 text-[8pt]"}," Forma\xE7\xE3o \xFAnica ",-1),Yi={class:"flex items-center mt-1 p-1 bg-slate-200 rounded"},Oi={class:"ml-1 text-[7pt] fw-500 px-1 rounded text-slate-700 bg-slate-100"},ji={class:"ml-1 text-[7pt] fw-300"},Vi=s("span",{class:"ml-2 fw-200"},"Hor\xE1rio:",-1),Mi={class:"px-1 rounded text-[7pt] fw-500 text-slate-900"};function Fi(o,t,i,m,e,a){const c=w("abrirpresenca"),_=w("salainfo"),v=w("dialoginscritos"),k=w("dialogeditar"),T=w("quebrarSala");return i.formacao!=null?(n(),d("div",di,[(n(),d("div",{class:"p-1 fw-400 text-[7pt]",key:e.refresh},[i.formacao.inscrPorEncontro?(n(),d("div",mi,[s("div",fi,[_i,i.formacao.turmasPorArea?(n(),d("span",hi," e por \xE1reas ")):u("",!0)]),(n(!0),d(C,null,S(i.formacao.encontros,(y,F)=>(n(),d("div",{key:F},[s("div",pi,[s("div",ui,[s("div",null,[s("span",xi,l(a.moment(y.data).format("DD/MM/YYYY")),1),s("span",vi," ("+l(a.moment(y.data).locale("pt-br").format("dddd").split("-")[0])+") ",1)]),s("div",null,[gi,s("span",bi,l(y.horaInicio)+" \xE0s "+l(y.horaTermino),1)]),s("div",wi,[r(c,{encontro:y,formacao:i.formacao},null,8,["encontro","formacao"])])]),i.formacao.turmasPorArea?(n(),d("div",yi,[(n(!0),d(C,null,S(e.areas,(j,K)=>(n(),d("div",{key:K,class:"flex items-center rounded mx-1 my-1 bg-white"},[s("div",$i,[s("span",{style:V("background-color:"+j.cor),class:"leading-3 ml-1 text-[7pt] fw-700 px-1 pt-[1px] rounded text-white"},[x(l(j.sigla)+" ",1),r(I,{delay:800},{default:f(()=>[x(l(j.nome),1)]),_:2},1024)],4)]),s("div",ki,[(n(!0),d(C,null,S(y.areas[j.id].salas,(B,R)=>(n(),d("div",{key:R},[r(_,{formacao:i.formacao,sala:B,area:j,encontroIdx:F,onShowInscritos:a.showInscritos,onShowEditar:a.showEditar,onShowQuebra:a.showQuebra},null,8,["formacao","sala","area","encontroIdx","onShowInscritos","onShowEditar","onShowQuebra"])]))),128))])]))),128))])):u("",!0),i.formacao.turmasPorArea?u("",!0):(n(),d("div",Ii,[(n(!0),d(C,null,S(y.salas,(j,K)=>(n(),d("div",Di,[r(_,{class:"",formacao:i.formacao,sala:j,encontroIdx:F,onShowInscritos:a.showInscritos,onShowEditar:a.showEditar,onShowQuebra:a.showQuebra},null,8,["formacao","sala","encontroIdx","onShowInscritos","onShowEditar","onShowQuebra"])]))),256))]))])]))),128))])):u("",!0),i.formacao.inscrPorEncontro?u("",!0):(n(),d("div",Ci,[Si,(n(!0),d(C,null,S(i.formacao.encontros,(y,F)=>(n(),d("div",{key:F},[s("div",Yi,[s("div",null,[s("span",Oi,l(a.moment(y.data).format("DD/MM/YYYY")),1),s("span",ji," ("+l(a.moment(y.data).locale("pt-br").format("dddd").split("-")[0])+") ",1)]),s("div",null,[Vi,s("span",Mi,l(y.horaInicio)+" \xE0s "+l(y.horaTermino),1)])])]))),128))]))])),r(v,{ref:"dialoginscritosref"},null,512),r(k,{ref:"dialogeditarref",onSalaUpdate:t[0]||(t[0]=y=>o.$emit("salaUpdate"))},null,512),r(T,{ref:"quebrarSalaref",onSalaUpdate:t[1]||(t[1]=y=>o.$emit("salaUpdate"))},null,512)])):u("",!0)}var Ui=$(ri,[["render",Fi]]);const qi={components:{caixaformacaoinfo:Ui},props:{formacao:{default:null,type:Object}},data(){return{}},computed:{moment(){return O}},mounted(){},methods:{}},Pi={class:"border rounded"},Ti={class:"px-1"},zi={class:"absolute right-0 mr-6 mt-2"},Ai=s("span",{class:"iconify text-[10pt] mr-1","data-icon":"ic:school"},null,-1),Ei=x(" ver forma\xE7\xE3o "),Ni={class:"flex items-center font-bold text-lg md:text-lg max-w-lg text-gray-900 leading-tight"},Qi=s("div",{class:""},[s("span",{class:"iconify text-purple-900 text-2xl","data-icon":"ic:school"})],-1),Ki={class:"flex-1 leading-3 ml-2"},Ji=s("div",{class:"pt-2 m-0 fw-200 text-[9pt] border-b border-gray-300"}," Forma\xE7\xE3o ",-1),Li={class:"mt-1 leading-5 text-[12pt]"},Hi={key:0,class:"mx-8 my-[3px] fw-400 text-[8pt]"},Bi=s("span",null,"DATA:",-1),Ri={class:"ml-1 text-[9pt] fw-500 px-1 pt-[2px] rounded text-slate-700 bg-slate-200"},Zi={class:"ml-1 text-[10pt] fw-300"},Gi={key:1,class:"mx-8 my-[3px] fw-400 text-[8pt]"},Wi=s("span",{class:"fw-500 text-[8pt]"},"Per\xEDodo:",-1),Xi={class:"ml-1 text-[7pt] fw-500 pl-[1px] pt-[2px] rounded text-slate-700 bg-slate-200"},sl={class:"text-[6pt]"},el=s("span",{class:"px-1"},"at\xE9",-1),tl={class:"ml-1 text-[7pt] fw-500 pl-[1px] pt-[2px] rounded text-slate-700 bg-slate-200"},ol={class:"text-[6pt]"},al={class:"leading-4 text-gray-800 text-[9pt] mx-8 mt-1 font-light"},il={class:"mb-1 mt-2 mx-1 p-2 border rounded shadow"},ll=s("div",{class:"text-xs fw-600 border-b mb-2"}," Encontros ",-1);function nl(o,t,i,m,e,a){const c=w("caixaformacaoinfo");return n(),d("div",Pi,[s("div",null,[s("div",Ti,[s("div",zi,[r(b,{onClick:t[0]||(t[0]=_=>o.$router.push({path:"/formacao/"+i.formacao.id})),outline:"",size:"5pt",class:"px-2 pt-[6px] text-[8pt] ml-4 text-green-800"},{default:f(()=>[Ai,Ei]),_:1})]),s("div",Ni,[Qi,s("div",Ki,[Ji,s("div",Li,l(i.formacao.nome),1)])]),i.formacao.dataInicio==i.formacao.dataTermino?(n(),d("div",Hi,[Bi,s("span",Ri,l(a.moment(i.formacao.dataInicio).format("DD/MM/YYYY")),1),s("span",Zi," ("+l(a.moment(i.formacao.dataInicio).locale("pt-br").format("dddd"))+") ",1)])):u("",!0),i.formacao.dataInicio!=i.formacao.dataTermino?(n(),d("div",Gi,[Wi,s("span",Xi,[x(l(a.moment(i.formacao.dataInicio).format("DD/MM/YYYY"))+" ",1),s("span",sl," ("+l(a.moment(i.formacao.dataInicio).locale("pt-br").format("ddd").toUpperCase())+") ",1)]),el,s("span",tl,[x(l(a.moment(i.formacao.dataTermino).format("DD/MM/YYYY"))+" ",1),s("span",ol," ("+l(a.moment(i.formacao.dataTermino).locale("pt-br").format("ddd").toUpperCase())+") ",1)])])):u("",!0),s("p",al,l(i.formacao.descr),1)])]),s("div",il,[ll,r(c,{formacao:i.formacao,onSalaUpdate:t[1]||(t[1]=_=>o.$emit("salaUpdate"))},null,8,["formacao"])])])}var cl=$(qi,[["render",nl]]);const rl={components:{listaformacao:$s,inscricaoinfo:cl},data(){return{formacaoSel:null}},computed:{moment(){return O}},mounted(){},methods:{selectFormacao(o){this.formacaoSel=o},salaUpdate(){let o=this;console.log("salaUpdate"),console.log("this.formacaoSel",this.formacaoSel),this.formacaoSel!=null&&D(h(p,"/salamais/formacoes/"+this.formacaoSel.id)).then(t=>{o.formacaoSel=t.val()})}}},dl=s("div",{class:"mx-3 my-1 pt-2 fw-500 border-b mb-2"}," Controle de inscri\xE7\xF5es ",-1),ml={class:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 pl-3 pr-1"},fl={class:"px-2 pb-1"},_l=s("div",{class:"border rounded p-1 fw-500 text-sm bg-gray-200 mb-1"}," Forma\xE7\xF5es ",-1),hl={class:"px-1"},pl={class:"col-span-1 md:col-span-2 px-2 pb-1"},ul=s("div",{class:"border rounded p-1 fw-500 text-sm bg-gray-200 mb-1"}," Inscri\xE7\xF5es ",-1),xl={key:0},vl={key:1},gl=s("div",{class:"border rounded p-4 text-xs fw-300"}," Selecione uma forma\xE7\xE3o ",-1),bl=[gl];function wl(o,t,i,m,e,a){const c=w("listaformacao"),_=w("inscricaoinfo");return n(),d("div",null,[dl,s("div",ml,[s("div",fl,[_l,s("div",hl,[r(c,{onSelect:a.selectFormacao},null,8,["onSelect"])])]),s("div",pl,[ul,e.formacaoSel!=null?(n(),d("div",xl,[r(_,{formacao:e.formacaoSel,onSalaUpdate:a.salaUpdate},null,8,["formacao","onSalaUpdate"])])):u("",!0),e.formacaoSel==null?(n(),d("div",vl,bl)):u("",!0)])])])}var Dl=$(rl,[["render",wl]]);export{Dl as default};
