import{_,u as p,m as v,q as g,e as I,o as b,r as d,a as u,b as y,c as t,f as n,d as h,F as k,g as w,j as x,k as c,l as B,i as F}from"./index.2bd1149f.js";import{f as q}from"./caixa-formacao.75e1d637.js";import{f as S}from"./caixa-formacao-insc.c425693e.js";import"./caixa-formacao-info.1312eccb.js";import"./badge-area.51bfdf65.js";const C={components:{formacao:q,formacaoinsc:S},data(){return{refresh:0,userStore:p(),inscricoes:[],formacoes:[]}},computed:{moment(){return v}},mounted(){console.log("minhas-forma\xE7\xF5es mounted"),this.load()},methods:{load(){let o=this;if(this.userStore.user==null)return;let m=g(d(u,"/salamais/inscricoes"),b("userID"),I(this.userStore.user.id));y(m,f=>{let r=f.val();if(console.log("inscricoes",r),o.formacoes=[],r!=null){o.formacoes=[];async function a(e){let s=(await F(d(u,"/salamais/formacoes/"+e.formacaoID))).val();console.log("formacao",s),s.inscricao=!1,s.dataInscricao="",s.opcao=0,s.inscricaoID=e.id,s.inscricao=!0,s.dataInscricao=e.createdAt,s.inscEncontros=e.encontros,o.formacoes.push(s)}async function i(){for(let e in r)await a(r[e]);o.inscricoes=r,console.log("inscricoes",r),console.log("self.formacoes",o.formacoes),o.refresh++,o.$forceUpdate()}i()}})},verInformacoes(){console.log("verInformacoes")},inscricao(o){this.$refs.dialoginscricaoref.show(o)},novaInscricao(){this.load()}}},D={class:"m-1 p-2 border"},N=n("div",{class:"fw-600"}," Minhas inscri\xE7\xF5es ",-1),R=n("div",{class:"border-t mt-1 mb-3 mr-3"},null,-1),V={class:"py-1 pr-3"},E={key:0},$=n("div",{class:"border rounded shadow p-1 text-xs fw-300 bg-slate-200"}," Nenhuma inscri\xE7\xE3o foi encontrada ",-1),j=[$],A=n("hr",{class:"mb-3 ml-4 border-8 bg-gray-300"},null,-1);function L(o,m,f,r,a,i){const e=x("formacaoinsc");return c(),t("div",D,[N,R,n("div",V,[a.formacoes.length==0?(c(),t("div",E,j)):h("",!0),(c(!0),t(k,null,w(a.formacoes,(l,s)=>(c(),t("div",{key:s+a.refresh},[l.inscricao?(c(),B(e,{key:0,class:"",formacao:l,onRemoveInscricao:i.novaInscricao},null,8,["formacao","onRemoveInscricao"])):h("",!0),A]))),128))])])}var H=_(C,[["render",L]]);export{H as default};
