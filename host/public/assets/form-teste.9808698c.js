import{e as l}from"./editor.9462f2a1.js";import{_ as d,c as g,f as c,h as p,a0 as f,j as m,k as _}from"./index.2bd1149f.js";const u={components:{editor:l},props:{},data(){return{model:null,editor:null,refresh:0}},mounted(){},methods:{change(e){console.log("change",e);const o=window.getSelection().getRangeAt(0);let t=o.startOffset;console.log("caretPos",t);let r=o.startContainer.parentElement,n=o.startContainer.previousSibling;console.log("nodeEsq",n),console.dir(n);let s=r.getAttribute("xxx");if(console.log("isMention",s),s&&(e.key=="Backspace"&&r.parentElement.removeChild(r),e.key!="ArrowLeft"&&e.key!="ArrowRight"&&e.preventDefault()),e.key=="Backspace"&&t==0){let i=n.getAttribute("xxx");console.log("no esq mention",i),i&&n.parentElement.removeChild(n)}e.key=="@"&&(e.preventDefault(),this.pasteHtmlAtCaret("<wc-teste></wc-teste>"))},keyup(e){console.log("change",e);let t=window.getSelection().getRangeAt(0).startOffset;console.log("caretPos",t),console.log("this.$refs.cxa.textContent",this.$refs.cxa.textContent)},pasteHtmlAtCaret(e){var o,t;if(window.getSelection){if(o=window.getSelection(),o.getRangeAt&&o.rangeCount){t=o.getRangeAt(0),t.deleteContents();var r=document.createElement("div");r.innerHTML=e;for(var a=document.createDocumentFragment(),n,s;n=r.firstChild;)s=a.appendChild(n);t.insertNode(a),s&&(t=t.cloneRange(),t.setStartAfter(s),t.collapse(!0),o.removeAllRanges(),o.addRange(t))}}else document.selection&&document.selection.type!="Control"&&document.selection.createRange().pasteHTML(e)}}},h={class:"m-3"},v=f(" Form Teste "),x={class:"grid grid-cols-2"},C={class:"border rounded p-3"},w=c("div",null,null,-1);function A(e,o,t,r,a,n){const s=m("editor");return _(),g("div",h,[v,c("div",x,[c("div",C,[p(s)]),w])])}var R=d(u,[["render",A]]);export{R as default};
