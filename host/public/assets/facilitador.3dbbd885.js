import{_ as D,u as I,m as S,b as T,r as v,a as g,c as w,f as e,h as i,K as r,i as V,j as y,k as x,d as p,N as s,a2 as b,a0 as k,M as Q,O as C}from"./index.2bd1149f.js";import{Q as N,a as j}from"./QTr.6ba7f04a.js";import{Q as B}from"./QTable.6c172721.js";import"./QLinearProgress.69a859f2.js";const F={components:{},props:{},data(){return{refresh:0,tab:"mails",userStore:I(),filter:"",columns:[{label:"Encontros",field:"nome",align:"left",sortable:!0},{label:"",sortable:!1}],rows:[],removeDialog:[]}},computed:{moment(){return S}},mounted(){this.load()},methods:{async load(){let d=this;T(v(g,"/salamais/facilitadores/"+this.userStore.user.id),async m=>{let c=m.val();if(d.rows=[],c){console.log("formacoes",c.formacoes);for(let u in c.formacoes){let t=(await V(v(g,"/salamais/formacoes/"+u))).val();console.log("formacao",t);let n=c.formacoes[u].encontros;for(let f in n){console.log("encontroID",f);let o=n[f].area;console.log("area",o);let h=n[f].salaID;console.log("salaID",h);let _=t.encontros[f],l={};o==null?l=_.salas[h]:l=_.areas[o.id].salas[h],console.log("sala",l),l.area=o,l.salaID=h,l.nome=t.nome,l.formacao={id:t.id,nome:t.nome},l.encontro={id:_.id,data:_.data,horaInicio:_.horaInicio,horaTermino:_.horaTermino},d.rows.push(l)}}console.log("self.rows",d.rows)}})},acessarSala(d,m,c,u,a){console.log("inscricao",c);let t="";a!=null&&(t=a.id);let n=d+":"+m+":"+u+":"+t;console.log(n),this.$router.push({path:"/sala/"+n})}}},M=e("div",{class:"flex items-center mx-4 my-1 pt-2 fw-500"},[e("div",{class:"h-[20px] fs-12pt mr-1"},[e("span",{class:"iconify","data-icon":"mdi:school","data-inline":"false"})]),e("div",null," Meus encontros como facilitador ")],-1),Y={class:"mx-4"},K={class:"w-full"},z={class:"p-1 flex items-center justify-between"},E={class:"flex items-center"},O={class:"-mb-2"},P=e("div",{class:"pl-1"},[e("span",{class:"iconify text-[14pt]","data-icon":"mi:search"})],-1),H={class:"flex items-center"},U=e("div",null,[e("span",{class:"iconify text-[12pt]","data-icon":"mdi:school"})],-1),q={class:"ml-2 w-[160px]"},A=e("div",{class:"text-[5pt] leading-3 fw-600"}," Forma\xE7\xE3o ",-1),G={class:"text-[6pt] leading-3 truncate"},J={class:"text-[7pt]"},L={class:"ml-2 w-[130px] leading-3 pt-2"},R={class:"text-[6pt] leading-3"},W={class:"text-[7pt] fw-500 px-1 rounded text-slate-700 bg-slate-200"},X={class:"text-[8pt] fw-300"},Z=e("span",{class:"ml-1 fw-300 text-[6pt]"},"Hor\xE1rio:",-1),$={class:"px-1 rounded text-[7pt] fw-500 text-slate-900"},ee={class:"pt-1 pb-1 px-1 border shadow rounded"},oe={class:"flex items-center leading-3"},te={class:"px-1 text-[7pt] rounded bg-slate-200"},se={class:"flex pl-[3px] px-1 py-1 leading-3 border ml-1 rounded"},ae={key:0,class:"text-[8pt] fw-600 py-0 text-center"},le={key:1,class:"text-[8pt] fw-600 py-0 text-center"},ne=e("div",{class:"ml-1 fw-300 flato text-[7pt] py-0"}," inscri\xE7\xF5es ",-1),ie={key:0,class:"ml-2 w-10"},re={key:1,class:"ml-2 w-10"},ce={class:"flex items-center"},de={class:"flex-1 ml-2 flex justify-start"},me=e("span",{class:"text-[5pt]"},"acessar sala",-1);function fe(d,m,c,u,a,t){const n=y("FormKit"),f=y("router-link");return x(),w("div",null,[M,e("div",Y,[i(B,{dense:"",pagination:{rowsPerPage:20},rows:a.rows,filter:a.filter,columns:a.columns,"row-key":"name"},{top:r(()=>[e("div",K,[e("div",z,[e("div",E,[e("div",O,[i(n,{modelValue:a.filter,"onUpdate:modelValue":m[0]||(m[0]=o=>a.filter=o),classes:{inner:"h-7"},type:"text",placeholder:"Filtrar"},null,8,["modelValue"])]),P]),p("",!0)])])]),body:r(o=>[i(N,{props:o},{default:r(()=>[i(j,null,{default:r(()=>[e("div",H,[U,e("div",q,[A,e("div",G,[i(f,{to:{path:"/formacao/"+o.row.formacao.id},target:"_blank"},{default:r(()=>[e("span",J,s(o.row.formacao.nome),1)]),_:2},1032,["to"]),i(b,{delay:800},{default:r(()=>[k(s(o.row.formacao.nome),1)]),_:2},1024)])]),e("div",L,[e("div",R,[e("span",W,s(t.moment(o.row.encontro.data).format("DD/MM/YYYY")),1),e("span",X," ("+s(t.moment(o.row.encontro.data).locale("pt-br").format("dddd").split("-")[0])+") ",1)]),e("div",null,[Z,e("span",$,s(o.row.encontro.horaInicio)+" \xE0s "+s(o.row.encontro.horaTermino),1)])]),e("div",ee,[e("div",oe,[e("span",te," Sala "+s(o.row.id),1),e("div",se,[o.row.inscricoes!=null?(x(),w("div",ae,s(Object.keys(o.row.inscricoes).length),1)):p("",!0),o.row.inscricoes==null?(x(),w("div",le," 0 ")):p("",!0),ne])])]),o.row.area==null?(x(),w("div",ie)):p("",!0),o.row.area!=null?(x(),w("div",re,[e("div",ce,[e("span",{style:Q("background-color:"+o.row.area.cor),class:"leading-3 ml-1 text-[5pt] fw-700 px-1 pt-[1px] rounded text-white"},s(o.row.area.sigla),5),i(b,{delay:800},{default:r(()=>[k(s(o.row.area.nome),1)]),_:2},1024)])])):p("",!0),e("div",de,[e("div",null,[i(C,{onClick:h=>t.acessarSala(o.row.id,o.row.formacao.id,o.row.encontro,o.row.encontro.id,o.row.area),class:"px-2 py-1 leading-3",size:"5px",outline:""},{default:r(()=>[me]),_:2},1032,["onClick"])])])])]),_:2},1024)]),_:2},1032,["props"])]),_:1},8,["rows","filter","columns"])])])}var xe=D(F,[["render",fe]]);export{xe as default};
